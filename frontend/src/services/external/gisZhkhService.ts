import { Payment, User } from '../../types';

/**
 * –°–µ—Ä–≤–∏—Å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ì–ò–° –ñ–ö–•
 * –í–ê–ñ–ù–û: –≠—Ç–æ –∑–∞–≥–ª—É—à–∫–∞! –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
 */

export const gisZhkhService = {
  /**
   * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è—Ö –∏–∑ –ì–ò–° –ñ–ö–•
   */
  async fetchPaymentsFromGis(userId: string, period: string): Promise<Payment[]> {
    // TODO: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –∑–∞–ø—Ä–æ—Å –∫ –ì–ò–° –ñ–ö–•
    console.log('üîå –ì–ò–° –ñ–ö–•: –ó–∞–ø—Ä–æ—Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', userId, period);
    
    // –ó–∞–≥–ª—É—à–∫–∞ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
    // –í —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç:
    // const response = await fetch('https://gis-zhkh-api.ru/...', { headers: {...} });
    // return response.json();
    
    return [];
  },

  /**
   * –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ì–ò–° –ñ–ö–•
   */
  async syncUserWithGis(user: User): Promise<{ success: boolean; message: string }> {
    // TODO: –†–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –ì–ò–° –ñ–ö–•
    console.log('üîå –ì–ò–° –ñ–ö–•: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', user.id);
    
    return {
      success: true,
      message: '–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –ì–ò–° –ñ–ö–• (–∑–∞–≥–ª—É—à–∫–∞)',
    };
  },

  /**
   * –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–∏—Ü–µ–≤–æ–º —Å—á—ë—Ç–µ –∏–∑ –ì–ò–° –ñ–ö–•
   */
  async getAccountInfo(apartmentNumber: string, buildingAddress: string): Promise<any> {
    // TODO: –ó–∞–ø—Ä–æ—Å –∫ –ì–ò–° –ñ–ö–•
    console.log('üîå –ì–ò–° –ñ–ö–•: –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞', apartmentNumber, buildingAddress);
    
    return {
      accountNumber: '1234567890',
      balance: 0,
      lastPaymentDate: null,
    };
  },
};
